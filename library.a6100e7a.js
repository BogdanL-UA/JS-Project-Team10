var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},n=e.parcelRequire276a;null==n&&((n=function(e){if(e in a)return a[e].exports;if(e in r){var n=r[e];delete r[e];var t={id:e,exports:{}};return a[e]=t,n.call(t.exports,t,t.exports),t.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,a){r[e]=a},e.parcelRequire276a=n),n("lDsUW"),n("2nhTy");var t=n("7me8F");const l={library:document.querySelector(".library__list"),message:document.querySelector(".message"),headerWatchedBtn:document.querySelector(".library-header__watched-btn"),headerQueueBtn:document.querySelector(".library-header__queue-btn")};var i=n("lDsUW");const s=({id:e,poster_path:a,title:r,genres:n,release_date:t,vote_average:l})=>{document.addEventListener("click",i.default);const s=(e=>e.length<2?e.map((e=>e.name)).join(", "):0===e.length?"no genres":e.length>2?e.map((e=>e.name)).slice(0,2).join(", ")+", Other":void 0)(n);return`\n    <li class="library__item" data-id="${e}">\n            <div class="library__poster">\n                <img src="https://image.tmdb.org/t/p/w500${a}" alt="${r}" class="library__image" data-target="card"/>\n            </div>\n            <div class="library__meta">\n                <p class="library__title" data-target="card">${r}</p>\n                <p class="library__info" data-target="card">\n                    <span class="library__genre">${s}</span> |\n                    <span class="library__year">${t.slice(0,4)}</span>\n                    <span class="library__rate">${String(l).slice(0,3)}</span></p>\n            </div>\n        </li>\n    `},d=new(0,t.FilmsApiService);function c(e){for(let a=0;a<e.length;a+=1)d.getFilmsById(e[a]).then((e=>{l.library.insertAdjacentHTML("beforeend",s(e))}))}const o=()=>{l.headerWatchedBtn.classList.add("library-header__btn--active")},g=()=>{l.headerQueueBtn.classList.add("library-header__btn--active")},h=()=>{l.library.innerHTML=""},u=e=>JSON.parse(localStorage.getItem(`${e}Movies`));let p=u("watched"),_=u("queue");null!=p&&0!==p.length||null!=_&&0!==_.length?p.length>0?(h(),o(),c(p)):_.length>0&&(h(),g(),c(_)):(h(),l.message.innerHTML="<p>Ви ще не додали фільми до бібліотеки</p>");l.headerWatchedBtn.addEventListener("click",(e=>{console.log("Привіт від кнопки watched"),l.headerQueueBtn.classList.remove("library-header__btn--active"),o(),h(),null==p||0===p.length?l.message.innerHTML="<p>Ви ще не додали фільми до списку переглянутих</p>":p.length>0&&(l.message.innerHTML="",c(p))})),l.headerQueueBtn.addEventListener("click",(e=>{console.log("Привіт від кнопки queue"),g(),l.headerWatchedBtn.classList.remove("library-header__btn--active"),h(),null==_||0===_.length?l.message.innerHTML="<p>Ви ще не додали фільми до черги</p>":_.length>0&&(l.message.innerHTML="",c(_))})),n("baGT8"),n("ghT7p"),n("6mLAN");
//# sourceMappingURL=library.a6100e7a.js.map
