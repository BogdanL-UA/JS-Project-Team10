!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=e.parcelRequire276a;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var a=r[e];delete r[e];var t={id:e,exports:{}};return n[e]=t,a.call(t.exports,t,t.exports),t.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){r[e]=n},e.parcelRequire276a=a),a("8Tess"),a("jcFG7");var t=a("1h2Gi"),i=a("4Nugj"),s=a("8Tess"),l=a("1rHv3"),c=function(e){var n=e.id,r=e.poster_path,a=e.title,t=e.genres,c=e.release_date,d=e.vote_average;document.addEventListener("click",s.default),i.refs.closeModalIcon.addEventListener("click",l.default);var o=function(e){return e.length<=2?e.map((function(e){return e.name})).join(", "):0===e.length?"no genres":e.length>2?e.map((function(e){return e.name})).slice(0,2).join(", ")+", Other":void 0}(t);return'\n    <li class="library__item" data-id="'.concat(n,'">\n            <div class="library__poster">\n                <img src="https://image.tmdb.org/t/p/w500').concat(r,'" alt="').concat(a,'" class="library__image" data-target="card"/>\n            </div>\n            <div class="library__meta">\n                <p class="library__title" data-target="card">').concat(a,'</p>\n                <p class="library__info" data-target="card">\n                    <span class="library__genre">').concat(o,'</span> |\n                    <span class="library__year">').concat(c.slice(0,4),'</span>\n                    <span class="library__rate">').concat(String(d).slice(0,3),"</span></p>\n            </div>\n        </li>\n    ")},d=new(0,t.FilmsApiService);function o(e){for(var n=0;n<e.length;n+=1)d.getFilmsById(e[n]).then((function(e){i.refs.library.insertAdjacentHTML("beforeend",c(e))}))}i=a("4Nugj"),i=a("4Nugj");var u=function(){i.refs.headerWatchedBtn.classList.add("library-header__btn--active")},f=function(){i.refs.headerQueueBtn.classList.add("library-header__btn--active")},g=(i=a("4Nugj"),function(){i.refs.library.innerHTML=""}),h=function(e){return JSON.parse(localStorage.getItem("".concat(e,"Movies")))},p=h("watched"),_=h("queue");null!=p&&0!==p.length||null!=_&&0!==_.length?p.length>0?(u(),o(p)):_.length>0&&(f(),o(_)):i.refs.message.innerHTML="<p>Ви ще не додали фільми до бібліотеки</p>";i.refs.headerWatchedBtn.addEventListener("click",(function(e){i.refs.headerQueueBtn.classList.remove("library-header__btn--active"),u(),g(),null==(p=h("watched"))||0===p.length?i.refs.message.innerHTML="<p>Ви ще не додали фільми до списку переглянутих</p>":p.length>0&&(i.refs.message.innerHTML="",o(p))})),i.refs.headerQueueBtn.addEventListener("click",(function(e){f(),i.refs.headerWatchedBtn.classList.remove("library-header__btn--active"),g(),null==(_=h("queue"))||0===_.length?i.refs.message.innerHTML="<p>Ви ще не додали фільми до черги</p>":_.length>0&&(i.refs.message.innerHTML="",o(_))})),a("ghnK3"),a("32ZrB"),a("d43SW")}();
//# sourceMappingURL=library.e715bf1a.js.map
