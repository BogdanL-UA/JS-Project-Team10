var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},n=e.parcelRequire276a;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in a){var n=a[e];delete a[e];var t={id:e,exports:{}};return r[e]=t,n.call(t.exports,t,t.exports),t.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,r){a[e]=r},e.parcelRequire276a=n),n("lDsUW"),n("2nhTy");var t=n("7me8F"),s=n("krGWQ"),l=n("lDsUW"),i=n("ilvA4");const d=({id:e,poster_path:r,title:a,genres:n,release_date:t,vote_average:d})=>{document.addEventListener("click",l.default),s.refs.closeModalIcon.addEventListener("click",i.default);const c=(e=>e.length<=2?e.map((e=>e.name)).join(", "):0===e.length?"no genres":e.length>2?e.map((e=>e.name)).slice(0,2).join(", ")+", Other":void 0)(n);return`\n    <li class="library__item" data-id="${e}">\n            <div class="library__poster">\n                <img src="https://image.tmdb.org/t/p/w500${r}" alt="${a}" class="library__image" data-target="card"/>\n            </div>\n            <div class="library__meta">\n                <p class="library__title" data-target="card">${a}</p>\n                <p class="library__info" data-target="card">\n                    <span class="library__genre">${c}</span> |\n                    <span class="library__year">${t.slice(0,4)}</span>\n                    <span class="library__rate">${String(d).slice(0,3)}</span></p>\n            </div>\n        </li>\n    `},c=new(0,t.FilmsApiService);function o(e){for(let r=0;r<e.length;r+=1)c.getFilmsById(e[r]).then((e=>{s.refs.library.insertAdjacentHTML("beforeend",d(e))}))}s=n("krGWQ"),s=n("krGWQ");const g=()=>{s.refs.headerWatchedBtn.classList.add("library-header__btn--active")},p=()=>{s.refs.headerQueueBtn.classList.add("library-header__btn--active")};s=n("krGWQ");const h=()=>{s.refs.library.innerHTML=""},f=e=>JSON.parse(localStorage.getItem(`${e}Movies`));let u=f("watched"),_=f("queue");null!=u&&0!==u.length||null!=_&&0!==_.length?u.length>0?(g(),o(u)):_.length>0&&(p(),o(_)):s.refs.message.innerHTML="<p>Ви ще не додали фільми до бібліотеки</p>";s.refs.headerWatchedBtn.addEventListener("click",(e=>{s.refs.headerQueueBtn.classList.remove("library-header__btn--active"),g(),h(),u=f("watched"),null==u||0===u.length?s.refs.message.innerHTML="<p>Ви ще не додали фільми до списку переглянутих</p>":u.length>0&&(s.refs.message.innerHTML="",o(u))})),s.refs.headerQueueBtn.addEventListener("click",(e=>{p(),s.refs.headerWatchedBtn.classList.remove("library-header__btn--active"),h(),_=f("queue"),null==_||0===_.length?s.refs.message.innerHTML="<p>Ви ще не додали фільми до черги</p>":_.length>0&&(s.refs.message.innerHTML="",o(_))})),n("baGT8"),n("ghT7p"),n("6mLAN");
//# sourceMappingURL=library.bae237cc.js.map
